/* 3.3 è®¾è®¡ä¸ç”¨æˆ·ä½“éªŒ (UX) - æç®€ã€å¹²å‡€ã€ä»¤äººå¹³é™ */

/* 1. ä¸ºæ•´ä¸ªé¡µé¢è®¾ç½®ä¸€ä¸ªæ·±è‰²èƒŒæ™¯å’Œæµ…è‰²æ–‡å­— */
body {
    background-color: #1a1a1a;
    color: #f0f0f0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    line-height: 1.6;
    margin: 0;
    padding: 20px;
}

/* 2. è®©ä¸»ä½“å†…å®¹åœ¨é¡µé¢ä¸­æ°´å¹³å±…ä¸­ï¼Œå¹¶è®¾ç½®ä¸€ä¸ªæœ€å¤§å®½åº¦ */
main {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

/* 3. ä¸ºè¾“å…¥æ¡†å’ŒæŒ‰é’®æ·»åŠ åŸºæœ¬æ ·å¼ */
textarea, button {
    width: 100%;
    padding: 12px;
    margin-bottom: 15px;
    border-radius: 6px;
    border: 1px solid #444;
    background-color: #2c2c2c;
    color: #f0f0f0;
    font-size: 1rem;
    box-sizing: border-box; /* ç¡®ä¿paddingä¸ä¼šå½±å“å®½åº¦ */
}

/* ä¸ºæ–‡æœ¬è¾“å…¥æ¡†è®¾ç½®ç‰¹å®šæ ·å¼ */
textarea {
    height: 80px;           /* 3. è®¾ç½®ä¸€ä¸ªåˆé€‚çš„åˆå§‹é«˜åº¦ */
    resize: none;           /* 1. ç¦æ­¢ç”¨æˆ·æ‰‹åŠ¨æ‹–æ‹½è°ƒæ•´å¤§å° */
    /* 2. å®½åº¦ä¸º100%çš„æ ·å¼å·²åœ¨ä¸Šé¢çš„å…±äº«è§„åˆ™ä¸­å®šä¹‰ */
}

label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}

.form-actions {
    display: flex;
    gap: 10px; /* æŒ‰é’®ä¹‹é—´çš„é—´è· */
}

.form-actions button {
    margin-bottom: 0;
}

button {
    background-color: #007bff;
    border: none;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s ease;
}

button:hover {
    background-color: #0056b3;
}

.secondary-btn {
    background-color: #6c757d;
}

.secondary-btn:hover {
    background-color: #5a6268;
}

/* 4. ä¸ºæ—¥å¿—åˆ—è¡¨åŒºåŸŸæ·»åŠ ä¸€ä¸ªè™šçº¿è¾¹æ¡† (ç°åœ¨ç”±å®é™…å†…å®¹å¡«å……) */
#log-area {
    margin-top: 30px;
    border-radius: 6px;
    padding: 0;
    min-height: 100px;
}

.log-area-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

#clear-all-btn {
    width: auto; /* è¦†ç›–é€šç”¨çš„buttonå®½åº¦è®¾ç½® */
    background-color: #dc3545; /* é†’ç›®çš„çº¢è‰² */
    color: white;
    padding: 8px 15px;
    font-size: 0.9rem;
}

#clear-all-btn:hover {
    background-color: #c82333; /* é¼ æ ‡æ‚¬åœæ—¶é¢œè‰²å˜æ·± */
}

.empty-log-message {
    color: #888;
    text-align: center;
    padding: 40px 0;
}

h2 {
    border-bottom: 1px solid #444;
    padding-bottom: 10px;
    margin-top: 0;
}

#log-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

/* --- æ—¥å¿—æ¡ç›®å’Œå±•å¼€/æ”¶èµ·åŠŸèƒ½çš„æ ·å¼ --- */

.log-entry {
    background-color: #2c2c2c;
    border-radius: 6px;
    margin-bottom: 10px;
    overflow: hidden;
    transition: background-color 0.2s ease;
}

.log-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start; /* é¡¶éƒ¨å¯¹é½ */
    padding: 15px;
    cursor: pointer;
    user-select: none;
    gap: 15px; /* åœ¨æ ‡é¢˜å’Œæ—¥æœŸä¹‹é—´å¢åŠ é—´è· */
}

.log-header:hover {
    background-color: #3a3a3a;
}

.log-header-main {
    flex-grow: 1; /* è®©ä¸»å†…å®¹åŒºå æ®æ›´å¤šç©ºé—´ */
}

.log-event-title {
    font-weight: bold;
    display: block; /* è®©æ ‡é¢˜å•ç‹¬å ä¸€è¡Œ */
    margin-bottom: 8px; /* æ ‡é¢˜å’ŒWiné¢„è§ˆä¹‹é—´çš„é—´è· */
}

.log-header time {
    flex-shrink: 0; /* é˜²æ­¢æ—¥æœŸè¢«å‹ç¼© */
    white-space: nowrap;
}

.log-header::after {
    content: 'â–¼';
    font-size: 0.8em;
    color: #888;
    transition: transform 0.3s ease;
    align-self: center; /* ç®­å¤´å‚ç›´å±…ä¸­ */
}

.log-entry.expanded .log-header::after {
    transform: rotate(180deg);
}

.log-details {
    display: none;
    padding: 0 15px 15px 15px;
    border-top: 1px solid #444;
}

.log-details p {
    margin: 10px 0 0 0;
}

.log-entry.expanded .log-details {
    display: block;
}

/* --- START: Winé¢„è§ˆå’Œè¯¦æƒ…çš„çªå‡ºæ ·å¼ --- */
.log-win-preview {
    color: #FFD700; /* é‡‘è‰²æ–‡å­— */
    font-size: 0.95rem;
    line-height: 1.5;
}

.log-win-preview::before {
    content: 'ğŸ† '; /* å‰ç½®å¥–æ¯å›¾æ ‡ */
}

.log-win-full strong {
    color: #FFD700; /* è¯¦æƒ…ä¸­çš„â€œå­¦ã³ (Win)â€æ ‡é¢˜ä¹Ÿç”¨é‡‘è‰² */
}

.log-win-full strong::before {
    content: 'ğŸ† '; /* è¯¦æƒ…ä¸­çš„æ ‡é¢˜ä¹ŸåŠ ä¸Šå¥–æ¯ */
}
/* --- END: Winé¢„è§ˆå’Œè¯¦æƒ…çš„çªå‡ºæ ·å¼ --- */


/* --- æ–°å¢ï¼šæ¨¡æ¿ç®¡ç†æ¨¡æ€æ¡† (Modal) æ ·å¼ --- */

.modal-overlay {
    display: none; /* é»˜è®¤éšè— */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 1000;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background-color: #252525;
    padding: 25px;
    border-radius: 8px;
    max-width: 600px;
    width: 90%;
    position: relative;
    max-height: 80vh;
    overflow-y: auto;
}

.modal-close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 28px;
    font-weight: bold;
    color: #888;
    cursor: pointer;
    transition: color 0.2s ease;
}

.modal-close-btn:hover {
    color: #fff;
}

.template-section {
    margin-top: 20px;
}

#template-list {
    max-height: 200px;
    overflow-y: auto;
    border: 1px solid #444;
    border-radius: 6px;
    padding: 10px;
}

#template-list li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid #444;
}

#template-list li:last-child {
    border-bottom: none;
}

.delete-template-btn {
    width: auto;
    background: none;
    border: none;
    color: #dc3545;
    cursor: pointer;
    font-size: 1.2rem;
    padding: 0 5px;
}

#add-template-form input,
#add-template-form textarea {
    margin-bottom: 10px;
}

#add-template-form button {
    margin-top: 10px;
    margin-bottom: 0;
}

/* æ¨¡æ¿è¡¨å•è¾“å…¥æ¡†çš„ç°ä»£åŒ–æ ·å¼ */
#add-template-form label {
    display: block;
    margin-bottom: 5px;
    font-size: 0.9rem;
    color: #bbb;
}

#add-template-form input,
#add-template-form textarea {
    background-color: #1a1a1a; /* æ›´æ·±çš„èƒŒæ™¯ */
    border: 1px solid #555;
    border-radius: 6px; /* ç¡®ä¿è¾“å…¥æ¡†ä¹Ÿæ‹¥æœ‰åœ†è§’ */
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

#add-template-form input:focus,
#add-template-form textarea:focus {
    border-color: #007bff; /* ç„¦ç‚¹çŠ¶æ€ä¸‹çš„é«˜äº®è¾¹æ¡† */
    box-shadow: 0 0 8px rgba(0, 123, 255, 0.5); /* æŸ”å’Œçš„å…‰æ™•æ•ˆæœ */
    outline: none; /* ç§»é™¤æµè§ˆå™¨é»˜è®¤çš„è½®å»“çº¿ */
}

/* ä½¿ç”¨æ¨¡æ¿åŠŸèƒ½çš„ä¸‹æ‹‰èœå•æ ·å¼ */
.template-dropdown {
    position: absolute;
    background-color: #3a3a3a;
    border: 1px solid #555;
    border-radius: 6px;
    z-index: 1100;
    max-height: 200px;
    overflow-y: auto;
}

.template-dropdown a {
    display: block;
    padding: 10px 15px;
    color: #f0f0f0;
    text-decoration: none;
    cursor: pointer;
}

.template-dropdown a:hover {
    background-color: #007bff;
}
